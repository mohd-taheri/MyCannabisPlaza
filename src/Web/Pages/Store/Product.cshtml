@page
@{
    ViewData["Title"] = "Product";
    @model ProductModel
}

<!-- Page Title
    ============================================= -->
<section id="page-title">

    <div class="container clearfix">
        <h1>Shop</h1>
        <span>Products with Filter Functionality</span>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item"><a href="#">Filters</a></li>
            <li class="breadcrumb-item active" aria-current="page">Shop Filter</li>
        </ol>
    </div>

</section><!-- #page-title end -->

<section id="content">
    <div class="content-wrap">
        @*
                <form method="get" class="row combination-filter bottommargin">
                    <div class="col-lg-4 filter-group">
                        <select class="select-filter sm-form-control" asp-for="@Model.PrdModel.CategoryFilterApplied" asp-items="@Model.PrdModel.Categories" name="CategoryFilterApplied"></select>
                    </div>
                    <div class="col-lg-4 filter-group">
                        <input type="submit" value="submit" />
                        <input type="hidden" asp-for="@Model.PrdModel.StoreId" name="storeId" />
                    </div>

        </form>      *@
        
        <div class="container-fullwidth clearfix">
            <!-- Post Content
    ============================================= -->

            <form method="get" class="line">
                <div class="input-group divcenter">
                    <div class="input-group-prepend">
                        <div class="input-group-text"><i class="icon-search"></i></div>
                    </div>
                    <input asp-for="PrdModel.SearchText" name="SearchText" class="form-control" placeholder="Search">
                    <input asp-for="PrdModel.StoreId" name="StoreId" type="hidden" />
                    <div class="input-group-append">
                        <button class="btn btn-success" type="submit">Search</button>
                    </div>
                </div>
            </form>

            <div class="postcontent nobottommargin col_last">

                <!-- Shop
        ============================================= -->
                <div id="shop" class="shop product-3 grid-container clearfix">
                    @if (Model.PrdModel.StoreProducts.Any())
                    {
                        @*
                    <partial name="_pagination" for="PrdModel.PaginationInfo" />
                        *@

                        @foreach (var product in Model.PrdModel.StoreProducts)
                        {
                            <partial name="_product" for="@product" />
                        }
                        <partial name="_pagination" for="PrdModel.PaginationInfo" />
                    }
                    else
                    {
                        <div>
                            THERE ARE NO RESULTS THAT MATCH YOUR SEARCH
                        </div>
                    }
                </div><!-- #shop end -->

            </div><!-- .postcontent end -->
            <!-- Sidebar
    ============================================= -->

            <div class="sidebar nobottommargin clearfix">
                <div class="sidebar-widgets-wrap">
                    <div class="widget widget_links clearfix">
                        <h4>Select Category</h4>
                        <ul>
                            @if (Model.PrdModel.Categories.Any())
                            {
                                @foreach (var category in Model.PrdModel.Categories)
                                {
                                    @*
                                <li><a href="#" data-filter=".sf-@category.Value">@category.Text</a></li>
                                    *@
                                    <li>
                                        <a asp-page="/store/product" asp-route-storeid="@Model.PrdModel.StoreId" asp-route-categoryFilterApplied="@category.Value">@category.Text</a>
                                    </li>
                                }
                            }
                            @*
                        <li><a href="#" data-filter=".sf-tshirt">Tshirts</a></li>
                        <li><a href="#" data-filter=".sf-pant">Pants</a></li>
                        <li><a href="#" data-filter=".sf-sunglass">Sunglasses</a></li>
                        <li><a href="#" data-filter=".sf-shoes">Shoes</a></li>
                        <li><a href="#" data-filter=".sf-watch">Watches</a></li>
                            *@
                        </ul>
                    </div>

                    <div class="widget widget-filter-links clearfix">
                        <h4>Sort By</h4>
                        <ul class="shop-sorting">
                            <li class="widget-filter-reset active-filter"><a href="#" data-sort-by="original-order">Clear</a></li>
                            <li><a href="#" data-sort-by="name">Name</a></li>
                            <li><a href="#" data-sort-by="price_lh">Price: Low to High</a></li>
                            <li><a href="#" data-sort-by="price_hl">Price: High to Low</a></li>
                        </ul>

                    </div>

                </div>
            </div><!-- .sidebar end -->

        </div>

        </div>

</section><!-- #content end -->

@*
    <section class="esh-catalog-hero">
        <div class="container">
            <img class="esh-catalog-title" src="~/images/main_banner_text.png" />
        </div>
    </section>
    <section class="esh-catalog-filters">
        <div class="container">
            <form method="get">
                <label class="esh-catalog-label" data-title="brand">
                    <select asp-for="@Model.PrdModel.BrandFilterApplied" asp-items="@Model.PrdModel.Brands" class="esh-catalog-filter" name="BrandFilterApplied"></select>
                </label>
                <label class="esh-catalog-label" data-title="type">
                    <select asp-for="@Model.PrdModel.CategoryFilterApplied" asp-items="@Model.PrdModel.Categories" class="esh-catalog-filter" name="CategoryFilterApplied"></select>
                </label>
                <input class="esh-catalog-send" type="image" src="../images/arrow-right.svg" />
                <input type="hidden" asp-for="@Model.PrdModel.StoreId" name="storeId" />
            </form>
        </div>
    </section>
    <div class="container">
        @if (Model.PrdModel.StoreProducts.Any())
        {
            <partial name="_pagination" for="PrdModel.PaginationInfo" />

            <div class="esh-catalog-items row">
                @foreach (var product in Model.PrdModel.StoreProducts)
                {
                    <div class="esh-catalog-item col-md-4">
                        <partial name="_product" for="@product" />
                    </div>
                }
            </div>
            <partial name="_pagination" for="PrdModel.PaginationInfo" />
        }
        else
        {
            <div class="esh-catalog-items row">
                THERE ARE NO RESULTS THAT MATCH YOUR SEARCH
            </div>
        }
    </div>
*@